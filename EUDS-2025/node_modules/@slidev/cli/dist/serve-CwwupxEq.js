import { resolveViteConfigs } from "./shared-BC4uxnur.js";
import { join } from "node:path";
import process from "node:process";
import { createServer } from "vite";

//#region node/commands/serve.ts
async function createServer$1(options, viteConfig = {}, serverOptions) {
	process.env.EDITOR = process.env.EDITOR || "code";
	const inlineConfig = await resolveViteConfigs(options, { optimizeDeps: { entries: [join(options.clientRoot, "main.ts")] } }, viteConfig, "serve", serverOptions);
	return await createServer(inlineConfig);
}

//#endregion
export { createServer$1 as createServer };